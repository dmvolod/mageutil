<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# bintool

```go
import "github.com/princjef/mageutil/bintool"
```

Package bintool manages local binary tool dependencies in your project\.

## Index

- [type BinTool](<#type-bintool>)
  - [func Must(t *BinTool, err error) *BinTool](<#func-must>)
  - [func New(command, version, url string, opts ...Option) (*BinTool, error)](<#func-new>)
  - [func (t *BinTool) Command(args string) *shellcmd.Command](<#func-bintool-command>)
  - [func (t *BinTool) Ensure() error](<#func-bintool-ensure>)
  - [func (t *BinTool) Install() error](<#func-bintool-install>)
  - [func (t *BinTool) IsInstalled() bool](<#func-bintool-isinstalled>)
- [type Option](<#type-option>)
  - [func WithArchiveExt(ext string) Option](<#func-witharchiveext>)
  - [func WithBinExt(ext string) Option](<#func-withbinext>)
  - [func WithFolder(folder string) Option](<#func-withfolder>)
  - [func WithVersionCmd(cmd string) Option](<#func-withversioncmd>)


## type [BinTool](<https://github.com/princjef/mageutil/blob/master/bintool/bintool.go#L32-L37>)

BinTool represents a single binary tool/version combination with the information needed to check and/or install the tool if desired\.

The struct provides a set of utilities for checking the existence of a valid version of the command and installing the command in a way that is scoped to the project at hand\, if desired\.

```go
type BinTool struct {
    // contains filtered or unexported fields
}
```

### func [Must](<https://github.com/princjef/mageutil/blob/master/bintool/bintool.go#L55>)

```go
func Must(t *BinTool, err error) *BinTool
```

Must provides a utility for asserting that methods returning a BinTool and an error have no error\. If there is an error\, this call will panic\.

### func [New](<https://github.com/princjef/mageutil/blob/master/bintool/bintool.go#L70>)

```go
func New(command, version, url string, opts ...Option) (*BinTool, error)
```

New initializes a BinTool with the provided command\, version\, and download url\. Additional options may be provided to configure things such as the version test command\, file extensions and folder containing the binary tool\.

The command\, url\, and version command may all use text templates to define their formats\. If any of these templates fails to compile or evaluate\, this call will return an error\.

### func \(\*BinTool\) [Command](<https://github.com/princjef/mageutil/blob/master/bintool/bintool.go#L180>)

```go
func (t *BinTool) Command(args string) *shellcmd.Command
```

Command generates a runnable command using this binary tool along with the provided args\.

### func \(\*BinTool\) [Ensure](<https://github.com/princjef/mageutil/blob/master/bintool/bintool.go#L170>)

```go
func (t *BinTool) Ensure() error
```

Ensure checks to see if a valid version of the tool is installed\, and downloads/installs it if it isn't already\.

### func \(\*BinTool\) [Install](<https://github.com/princjef/mageutil/blob/master/bintool/bintool.go#L150>)

```go
func (t *BinTool) Install() error
```

Install unconditionally downloads and installs the tool to the configured folder\.

If you don't want to download the tool every time\, you may prefer Ensure\(\) instead\.

### func \(\*BinTool\) [IsInstalled](<https://github.com/princjef/mageutil/blob/master/bintool/bintool.go#L119>)

```go
func (t *BinTool) IsInstalled() bool
```

IsInstalled checks whether the correct version of the tool is currently installed as defined by the version command\.

## type [Option](<https://github.com/princjef/mageutil/blob/master/bintool/bintool.go#L50>)

Option configures a BinTool with optional settings

```go
type Option func(t *BinTool) error
```

### func [WithArchiveExt](<https://github.com/princjef/mageutil/blob/master/bintool/bintool.go#L197>)

```go
func WithArchiveExt(ext string) Option
```

WithArchiveExt defines a custom extension to use when identifying an archive via the ArchiveExt template variable\. The default archive extension is \.tar\.gz except for Windows\, where it is \.zip\.

### func [WithBinExt](<https://github.com/princjef/mageutil/blob/master/bintool/bintool.go#L207>)

```go
func WithBinExt(ext string) Option
```

WithBinExt defines a custom extension to use when identifying a binary executable via the BinExt template variable\. The default binary extension is empty for all operating systems except Windows\, where it is \.exe\.

### func [WithFolder](<https://github.com/princjef/mageutil/blob/master/bintool/bintool.go#L187>)

```go
func WithFolder(folder string) Option
```

WithFolder defines a custom folder path where the tool is expected to exist and where it should be installed if desired\. Paths will be normalized to the operating system automatically\, so unix\-style paths are recommended\.

### func [WithVersionCmd](<https://github.com/princjef/mageutil/blob/master/bintool/bintool.go#L220>)

```go
func WithVersionCmd(cmd string) Option
```

WithVersionCmd defines a custom command used to test the version of the command for purposes of determining if the command is installed\. The provided command is a template that can use any of the template parameters that are available to the url\.

The default test command is "\{\{\.FullCmd\}\} \-\-version"\.



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
